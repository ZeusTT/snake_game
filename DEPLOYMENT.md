# 🚀 贪吃蛇游戏全自动排行榜部署指南

## 📋 部署前准备

### 1. 注册腾讯云账号
- 访问 [腾讯云官网](https://cloud.tencent.com/)
- 注册账号并完成实名认证
- 新用户有免费额度可以使用

### 2. 开通云开发服务
1. 进入 [云开发控制台](https://console.cloud.tencent.com/tcb)
2. 点击"新建环境"
3. 环境名称填写：`snake-game-env`
4. 选择地区：`华东地区（上海）`
5. 选择套餐：`免费套餐`
6. 点击"立即开通"

### 3. 获取环境配置信息
1. 在环境列表中找到刚创建的环境
2. 点击环境名称进入详情页
3. 复制"环境ID"
4. 在左侧菜单选择"安全配置"
5. 添加安全域名：`您的GitHub Pages域名`

## 🔧 配置游戏环境

### 1. 修改环境ID
编辑 `script.js` 文件，找到以下代码：

```javascript
// 初始化云开发应用
this.cloudbaseApp = cloudbase.init({
  env: "snake-game-env", // 替换为您的环境ID
  region: "ap-shanghai"
});
```

将 `snake-game-env` 替换为您的实际环境ID。

### 2. 部署云函数
1. 在云开发控制台选择"云函数"
2. 点击"新建云函数"
3. 函数名称：`submit-score`
4. 运行环境：`Node.js 16.13`
5. 上传方式：`本地上传文件夹`
6. 选择 `cloudbase/functions/submit-score` 文件夹
7. 点击"完成"部署

### 3. 创建数据库集合
1. 在云开发控制台选择"数据库"
2. 点击"新建集合"
3. 集合名称：`snake_scores`
4. 权限设置：`所有用户可读，仅创建者可写`

## 🌐 部署到GitHub Pages

### 1. 提交代码到GitHub
```bash
git add .
git commit -m "feat: 添加全自动排行榜功能"
git push origin main
```

### 2. 启用GitHub Pages
1. 进入GitHub仓库设置
2. 选择 `Pages` 选项
3. 分支选择 `main`
4. 文件夹选择 `/ (root)`
5. 点击"Save"

### 3. 获取访问地址
GitHub Pages地址格式：`https://您的用户名.github.io/snake_game`

## ✅ 测试功能

### 1. 基本功能测试
- 打开游戏页面
- 玩游戏并结束
- 检查分数是否自动提交
- 打开排行榜查看实时排名

### 2. 多人测试
- 让朋友用不同设备访问
- 各自玩游戏测试同步效果
- 验证排行榜实时更新

## 🔧 故障排除

### 常见问题

**Q: 游戏无法连接云端**
A: 检查环境ID是否正确，安全域名是否配置

**Q: 分数提交失败**
A: 检查云函数是否部署成功，数据库权限设置

**Q: 排行榜不显示数据**
A: 检查数据库集合名称是否正确

**Q: 国内访问慢**
A: 确保选择上海区域，使用CDN加速

## 📞 技术支持

- 腾讯云文档：https://cloud.tencent.com/document/product/876
- 云开发社区：https://cloudbase.net/community.html
- 问题反馈：GitHub Issues

## 🎉 部署完成！

完成以上步骤后，您的贪吃蛇游戏就拥有了全自动的实时排行榜功能！

### 功能特色：
- ✅ **全自动同步**：游戏结束自动上传分数
- ✅ **实时更新**：所有玩家立即看到最新排名
- ✅ **零操作**：朋友无需任何额外操作
- ✅ **国内优化**：基于腾讯云，访问速度快
- ✅ **完全免费**：使用免费额度，无成本

祝您游戏愉快！🎮